{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/usuarios.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction VistaComponent_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"b\");\n    i0.ɵɵtext(3, \"es el admin ;)\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const fila_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", fila_r6.nombre, \" \");\n  }\n}\n\nfunction VistaComponent_div_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"em\");\n    i0.ɵɵtext(3, \"es el user :D\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const fila_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", fila_r6.nombre, \" \");\n  }\n}\n\nfunction VistaComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, VistaComponent_div_6_div_2_Template, 4, 1, \"div\", 6);\n    i0.ɵɵtemplate(3, VistaComponent_div_6_ng_template_3_Template, 4, 1, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    const fila_r6 = ctx.$implicit;\n\n    const _r8 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", i_r5, \" \", fila_r6.nombre, \" \", fila_r6.email, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", fila_r6.rol == \"admin\")(\"ngIfElse\", _r8);\n  }\n}\n\nfunction VistaComponent_div_7_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"b\");\n    i0.ɵɵtext(3, \"es el admin ;)\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const usuario_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", usuario_r16.nombre, \" \");\n  }\n}\n\nfunction VistaComponent_div_7_div_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"es el user :D\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const usuario_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\"\", usuario_r16.nombre, \" \");\n  }\n}\n\nfunction VistaComponent_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, VistaComponent_div_7_div_1_div_2_Template, 4, 1, \"div\", 6);\n    i0.ɵɵtemplate(3, VistaComponent_div_7_div_1_ng_template_3_Template, 3, 1, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const usuario_r16 = ctx.$implicit;\n\n    const _r18 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r16.nombre, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", usuario_r16.rol == \"admin\")(\"ngIfElse\", _r18);\n  }\n}\n\nfunction VistaComponent_div_7_tbody_12_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\");\n    i0.ɵɵtext(9, \"?\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const usuario_r23 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r23.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r23.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r23.password);\n  }\n}\n\nfunction VistaComponent_div_7_tbody_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, VistaComponent_div_7_tbody_12_tr_1_Template, 10, 3, \"tr\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.usuarios);\n  }\n}\n\nfunction VistaComponent_div_7_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\", 14);\n    i0.ɵɵtext(3, \"No hay mas filas\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction VistaComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, VistaComponent_div_7_div_1_Template, 5, 3, \"div\", 0);\n    i0.ɵɵelementStart(2, \"table\", 12)(3, \"thead\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Accion\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, VistaComponent_div_7_tbody_12_Template, 2, 1, \"tbody\", 6);\n    i0.ɵɵtemplate(13, VistaComponent_div_7_ng_template_13_Template, 4, 0, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const _r14 = i0.ɵɵreference(14);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.usuarios);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.usuarios.length > 0)(\"ngIfElse\", _r14);\n  }\n}\n\nfunction VistaComponent_tbody_25_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"input\", 15);\n    i0.ɵɵlistener(\"click\", function VistaComponent_tbody_25_tr_1_Template_input_click_8_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.addRemoveItem($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const usuario_r25 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r25.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r25.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r25.password);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", usuario_r25.id);\n  }\n}\n\nfunction VistaComponent_tbody_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, VistaComponent_tbody_25_tr_1_Template, 9, 4, \"tr\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.usuarios);\n  }\n}\n\nfunction VistaComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\", 14);\n    i0.ɵɵtext(3, \"No hay mas filas\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport let VistaComponent = /*#__PURE__*/(() => {\n  class VistaComponent {\n    constructor(usuariosService, router) {\n      this.usuariosService = usuariosService;\n      this.router = router;\n      this.titulo = \"Vista formulario :)\";\n      this.usuarios = [];\n      this.revelar = true;\n      this.seleccionMult = [];\n      this.usuarios = usuariosService.listarUsuarios(); //this.usuarios = [];\n\n      console.log(this.titulo);\n      console.log(this.usuarios);\n    }\n\n    ngOnInit() {\n      /*this.titulo=2.3;*/\n      console.log(this.titulo);\n      console.log(this.usuarios);\n    }\n\n    procesar() {\n      let listaUsuarios = [];\n      console.log(\"Uso de procesar\");\n      console.log(\"Capturando el formulario\"); //Por cada elemento de la seleccion buscamos uno a uno en el array de usuarios\n\n      this.seleccionMult.forEach(valorArray => {\n        for (let i = 0; i < this.usuarios.length; i++) {\n          //si econtramos el id, ponemos el registro usuario en listaUsuarios y pasamos al siguiente id\n          if (valorArray == this.usuarios[i].id) {\n            listaUsuarios.push(this.usuarios[i]);\n            break;\n          }\n        }\n      }); //Corroboramos que se guardo en lista.\t\n\n      console.log(listaUsuarios);\n      this.usuariosService.guardarUsuarios(listaUsuarios);\n      this.usuariosService.guardarUsuarios(listaUsuarios);\n      this.usuariosService.guardarUsuariosLocal(); // this.router.navigate(['usuarios/listar']);\n    }\n\n    addRemoveItem($event) {\n      console.log(\"Capturando el checkbox\"); //Si checked es verdadero agregamos un item al array seleccionMult. Sino, remover \n\n      if ($event.target.checked) {\n        //push agrega un nuevo elemento al array\n        this.seleccionMult.push($event.target.value);\n      } else {\n        //splice quita elementos del array. Recibe splice(inicio, cuantos)\n        //indexOf devuelve la posicion en el array del valor pasado por parametro\n        this.seleccionMult.splice(this.seleccionMult.indexOf($event.target.value), 1);\n      } //el metodo sort mantiene el orden del array. Es conveniente porque las acciones del usuario no lo son\n\n\n      this.seleccionMult.sort();\n      console.log(this.seleccionMult);\n    }\n\n  }\n\n  VistaComponent.ɵfac = function VistaComponent_Factory(t) {\n    return new (t || VistaComponent)(i0.ɵɵdirectiveInject(i1.UsuariosService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  VistaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VistaComponent,\n    selectors: [[\"app-vista\"]],\n    decls: 30,\n    vars: 6,\n    consts: [[\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"component\", 4, \"ngIf\"], [\"method\", \"get\", 3, \"submit\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-block\"], [\"method\", \"post\", 3, \"submit\"], [\"border\", \"2\"], [4, \"ngIf\", \"ngIfElse\"], [\"fila\", \"\"], [1, \"\"], [1, \"col-md-4\"], [\"user\", \"\"], [1, \"component\"], [\"border\", \"1\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"4\"], [\"type\", \"checkbox\", 3, \"value\", \"click\"]],\n    template: function VistaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0, \"vista\\n\");\n        i0.ɵɵelementStart(1, \"div\")(2, \"h1\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, VistaComponent_div_6_Template, 5, 5, \"div\", 0);\n        i0.ɵɵtemplate(7, VistaComponent_div_7_Template, 15, 3, \"div\", 1);\n        i0.ɵɵelementStart(8, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function VistaComponent_Template_form_submit_8_listener() {\n          return ctx.procesar();\n        });\n        i0.ɵɵelementStart(9, \"button\", 3);\n        i0.ɵɵtext(10, \"Enviar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"form\", 4);\n        i0.ɵɵlistener(\"submit\", function VistaComponent_Template_form_submit_11_listener() {\n          return ctx.procesar();\n        });\n        i0.ɵɵelementStart(12, \"fieldset\")(13, \"legend\");\n        i0.ɵɵtext(14, \"Seleccion multiple\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"table\", 5)(16, \"thead\")(17, \"th\");\n        i0.ɵɵtext(18, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\");\n        i0.ɵɵtext(20, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\");\n        i0.ɵɵtext(22, \"password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\");\n        i0.ɵɵtext(24, \"Accion\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(25, VistaComponent_tbody_25_Template, 2, 1, \"tbody\", 6);\n        i0.ɵɵtemplate(26, VistaComponent_ng_template_26_Template, 4, 0, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"button\", 8);\n        i0.ɵɵtext(29, \"Enviar\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(27);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.titulo);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.usuarios);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.revelar);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuarios.length > 0)(\"ngIfElse\", _r3);\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n    styles: [\"\"]\n  });\n  return VistaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}